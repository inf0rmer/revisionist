/**
 *  v0.0.1
 *
 * Copyright (c) 2013Bruno Abrantes
 * Distributed under MIT License
 *
 * Documentation and full license available at:
 * http://inf0rmer.github.com/revisionist
 *
 */
!function(a){var Revisionist,b,c;return c=function(a,b){var d;null==a&&(a={});for(d in b)a[d]="object"==typeof source[d]?c(a[d],source[d]):source[d];return a},Revisionist=function(){function Revisionist(a){this.options=c(this.options,a),this._currentVersion=0}var a,b;return a=[],b={},Revisionist.register=function(a,c){if(null!=b[a])throw new Error("There's already a plugin in this namespace!");return b[a]=c},Revisionist.prototype.options={versions:10,plugin:"simple"},Revisionist.prototype.change=function(b){return b=_plugin.change.call(this,this._currentVersion),this._currentVersion+=1,a.push(b),this._currentVersion>this.options.versions&&a.shift(),b},Revisionist.prototype.recover=function(b){if(null==b&&(b-=1),0>b)throw new Error("Version needs to be a positive number");if(b>a.length)throw new Error("Not enough versions yet");return _plugin.recover.call(this,a[b])},Revisionist.prototype.clear=function(){return a=[]},Revisionist}(),b={change:function(a){return a},recover:function(a){return a}},Revisionist.register("simple",b),"function"==typeof define&&null!=define.amd?define(function(){return Revisionist}):void 0!==typeof module&&null!=module.exports?module.exports=Revisionist:a.Revisionist=Revisionist}(this);