/**
 *  v0.0.1
 *
 * Copyright (c) 2013Bruno Abrantes
 * Distributed under MIT License
 *
 * Documentation and full license available at:
 * http://inf0rmer.github.com/revisionist
 *
 */
!function(a){var Revisionist,b,c;return c=function(a,b){var d;null==a&&(a={});for(d in b)a[d]="object"==typeof source[d]?c(a[d],source[d]):source[d];return a},Revisionist=function(){function Revisionist(a){this.options=c(this.options,a)}var a,b,d;return a=[],d={},b=0,Revisionist.register=function(a,b){if(null!=d[a])throw new Error("There's already a plugin in this namespace!");return d[a]=b},Revisionist.prototype.options={versions:10,plugin:"simple"},Revisionist.prototype.change=function(c){var e;if(e=d[this.options.plugin],null==(null!=e?e.change:void 0))throw new Error("Plugin "+this.options.plugin+" is not available!");return c=e.change.call(this,c),b+=1,a.push(c),b>this.options.versions&&a.shift(),c},Revisionist.prototype.recover=function(c){var e;if(e=d[this.options.plugin],null==(null!=e?e.recover:void 0))throw new Error("Plugin "+this.options.plugin+" is not available!");if(null==c&&(c=b-1),0>c)throw new Error("Version needs to be a positive number");if(c>a.length)throw new Error("Not enough versions yet");return e.recover.call(this,a[c])},Revisionist.prototype.clear=function(){return a=[]},Revisionist}(),b={change:function(a){return a},recover:function(a){return a}},Revisionist.register("simple",b),"function"==typeof define&&null!=define.amd?define(function(){return Revisionist}):void 0!==typeof module&&null!=module.exports?module.exports=Revisionist:a.Revisionist=Revisionist}(this);